import{d as N,g as x,j as b,c as p,o as m,w as s,a as o,f as c,b as z,u as r,N as f,e as l,t as g,_ as h}from"./app-D4ROwtPn.js";import{B as u}from"./Button-Bo2xZagi.js";import{N as d}from"./Input-wiNYfkua.js";import{N as P}from"./Card-CVIghykW.js";import{N as w}from"./text-Brz9b7lh.js";const R=N({__name:"Request",setup(U){function v(){window.open("https://console.developers.google.com/","_blank")}const a={client_id:"202264815644.apps.googleusercontent.com",auth_uri:"https://accounts.google.com/o/oauth2/auth",token_uri:"https://oauth2.googleapis.com/token",auth_provider_x509_cert_url:"https://www.googleapis.com/oauth2/v1/certs",client_secret:"X4Z3ca8xfWDb1Voo-F9a7ZxJ",redirect_uri:"http://127.0.0.1:53682/"},_=`${x()}/tool/google/callback`,t=b({client_id:"",client_secret:"",redirect_uri:""});function k(){t.client_id=a.client_id,t.client_secret=a.client_secret,t.redirect_uri=a.redirect_uri}function y(){t.client_id="",t.client_secret="",t.redirect_uri=_}function C(){const i=new URL("https://accounts.google.com/o/oauth2/auth");i.searchParams.set("client_id",t.client_id),i.searchParams.set("response_type","code"),i.searchParams.set("redirect_uri",t.redirect_uri),i.searchParams.set("scope","openid profile https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/photoslibrary"),i.searchParams.set("access_type","offline"),i.searchParams.set("prompt","consent"),i.searchParams.set("state",btoa(`${t.client_id}::${t.client_secret}::${t.redirect_uri}`)),window.open(i.toString(),"_blank")}return(i,e)=>(m(),p(r(f),{vertical:"",size:"large"},{default:s(()=>[o(r(f),{justify:"center"},{default:s(()=>[o(r(u),{size:"large",secondary:"",onClick:v},{default:s(()=>e[3]||(e[3]=[l("Create client")])),_:1,__:[3]}),o(r(u),{size:"large",type:"primary",onClick:k},{default:s(()=>e[4]||(e[4]=[l("Use RClone client")])),_:1,__:[4]}),o(r(u),{size:"large",type:"info",onClick:y},{default:s(()=>e[5]||(e[5]=[l("Use own client")])),_:1,__:[5]})]),_:1}),e[10]||(e[10]=c("h4",null,"client_id",-1)),o(r(d),{size:"large",value:t.client_id,"onUpdate:value":e[0]||(e[0]=n=>t.client_id=n)},null,8,["value"]),e[11]||(e[11]=c("h4",null,"client_secret",-1)),o(r(d),{size:"large",value:t.client_secret,"onUpdate:value":e[1]||(e[1]=n=>t.client_secret=n)},null,8,["value"]),e[12]||(e[12]=c("h4",null,"redirect_uri",-1)),o(r(d),{size:"large",value:t.redirect_uri,"onUpdate:value":e[2]||(e[2]=n=>t.redirect_uri=n)},null,8,["value"]),o(r(u),{size:"large",type:"primary",block:"",onClick:C},{default:s(()=>e[6]||(e[6]=[l("Go get")])),_:1,__:[6]}),t.client_id===a.client_id?(m(),p(r(P),{key:0,title:"If you use rclone client"},{default:s(()=>[e[7]||(e[7]=l(" Replace ")),o(r(w),{code:""},{default:s(()=>[l(g(a.redirect_uri),1)]),_:1}),e[8]||(e[8]=l(" with ")),o(r(w),{code:""},{default:s(()=>[l(g(_))]),_:1}),e[9]||(e[9]=l(" after oauth. "))]),_:1,__:[7,8,9]})):z("",!0)]),_:1,__:[10,11,12]}))}}),j=h(R,[["__scopeId","data-v-c9247c81"]]);export{j as R};
